/*
 * Use this to apply mixins to Roam Research's class selectors
 */

/*--------------------------------------------------------------
# Basic
--------------------------------------------------------------*/
/* Basic Text */
.rm-title-display {
  @include font-title;
}
.rm-heading-level-1 {
  @include font-heading;
}
.rm-heading-level-2 {
  @include font-heading;
}
.rm-heading-level-3 {
  @include font-heading;
}
.rm-block {
  @include font-body;
}
.strong {
  @include font-bold;
}

/* Bullets */
.rm-bullet {
  &__inner {
    /* bullet */
    @include bullet-open;
  }
  .block-border-left {
    /* nesting line */
    @include nesting-line;
  }
}


/*--------------------------------------------------------------
# Second Brain Features?
--------------------------------------------------------------*/
/* Attributes */
.rm-attr-ref {
  @include font-bold;
}

/* Page Links */
.rm-page-ref {
  &--link {
    @include link-page-text;
  }
  &__brackets {
    @include link-brackets;
  }
}

/* Block References */
a {
  @include link-external;
}

/* alias link */
@mixin link-internal {
  @include link-page-text;
}

.rm-alias {
  & &--internal {
    @include link-internal;
  }
  & &--external {
    @include link-external;
  }
}

/* Checkbox */
@mixin not-done-checkbox {
}
@mixin done-checkbox {
}

/*--------------------------------------------------------------
# Workspace
--------------------------------------------------------------*/
/* Basic */
.roam-main {
  background: $background--main;
  color: setContrast($background--main);
}
.roam-topbar {
  background: $background--topbar;
  color: setContrast($background--topbar);
}
.roam-sidebar-content {
  background: $background--left;
  color: setContrast($background--left);
}
#roam-right-sidebar-content {
  background: $background--right;
  color: setContrast($background--right);
}

/* Left Sidebar */
// .roam-sidebar-container
.roam-sidebar-content {
  .top-row {
    // graph name
    color: setContrast($background--left);
  }
  .log-button {
    // TODO add customizable icons
    /* general navigations */
    color: setContrast($background--left) !important;
  }
  .starred-pages-wrapper {
    background: $background--shortcuts; // background of full shotcut section
    color: setContrast($background--left) !important; // "â˜… SHORTCUTS" title
    > div:nth-child(1) {
      /* horizontal division line */
      // TODO add abstraction for class selector
      flex: 0 0 10px !important;
      background-color: $palette--white !important;
    }
    > div:nth-child(2) {
      // TODO add abstraction for class selector
      /* div padding */
      display: none;
    }
  }
  /* Right Sidebar */
  /* Main Area */

  /*--------------------------------------------------------------
# Workspace Tools
--------------------------------------------------------------*/
  /* Top */
  /* Search Bar */
  /* Page Filter */
  /* "All Pages" */
  /* "Graph Overview */

  /*--------------------------------------------------------------
# Left Sidebar
--------------------------------------------------------------*/

  .page {
    /* left side bar pages */
    color: $palette--white !important;
  }
  #roam-sidebar-logo {
    /* hide Roam Research logo */
    display: none;
  }
}

/*--------------------------------------------------------------
# Right Sidebar
--------------------------------------------------------------*/
#roam-right-sidebar-content
// > .sidebar-content
{
  .window-headers {
    // "Block Outline" title
  }
}

.rm-resize-handle {
}

/*--------------------------------------------------------------
# All Pages
--------------------------------------------------------------*/
.rm-all-pages {
  .rm-pages-title-col {
  }
}
.button-disabled-strong {
  // trash & export icon in "all pages"
  opacity: 1; // override Roam Research settings
}

/*--------------------------------------------------------------
# Icons
--------------------------------------------------------------*/
[class*="bp3-icon"]::before {
  // TODO separate this for left sidebar, main, right sidebar?
  // all icon color
  color: $palette--white !important;
  :hover {
    color: $palette--accent;
  }
}
/*--------------------------------------------------------------
# Popups
--------------------------------------------------------------*/

/* search and multiselect menus */
.bp3-menu {
  background-color: $background--popover;
  color: white;
}

/* top-right toolbar popover */
.bp3-popover {
  // popup title colors
  color: $palette--theme;
  & > &-content {
    // background
    background-color: $background--popover;
    color: white;
  }
  & &-arrow {
    &-fill {
      // background
      fill: $background--popover;
    }
    &-border {
      //tiny border
      fill: $palette--accent; //TODO make this and $background--popover contrast
    }
  }
  .bp3-button {
    // tag selection buttons
    color: red !important;
    &:hover {
      color: blue !important;
    }
  }
}

#{popover-selector()} {
  // TODO fix brute force style popovers
  color: $palette--theme;
  div > div > .flex-h-box div > div > span,
  div > div > .flex-h-box div > div > strong,
  div > div > div > button,
  > ul > div {
    color: $palette--theme;
    &:hover {
      color: $palette--accent;
    }
  }
}

/*--------------------------------------------------------------
# Blocks
--------------------------------------------------------------*/
//TODO add block highlight
.rm-not-focused {
  @include block--regular;
}
.rm-focused {
  @include block--focused;
}
