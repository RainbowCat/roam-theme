/*------------------------------------ # GLOBAL # ------------------------------------*/
/*------------------------------------
#
# RESET SITE SETTINGS
#
------------------------------------*/

/*------------------------------------
# All Elements
------------------------------------*/
// XXX do not set color and background
// XXX do not set height and width
*:not(html):not(body) {
  box-sizing: border-box;
  vertical-align: middle;
  line-height: 1.2em;
  &:not([class*="bp3-icon"]) {
    @include font-family;
  }
  &:not(.roam-topbar[class*="bp3"]):not([class*="CodeMirror"]) {
    max-height: 100%;
    max-width: 100%;
    text-align: inherit;
    vertical-align: inherit;
  }
}

textarea {
  height: auto !important;
}

/*------------------------------------
# Workspace Layout
------------------------------------*/
:root {
  --leftbar_width: 195px; // perfect size to fit "graph overview" horizontally
  --topbar_height: 45px; // default
}

// level 1
#app,
.roam-body,
.roam-app {
  // XXX do not uncomment
  // display: flex;
  // flex-direction: row;

  box-sizing: border-box;
  position: fixed;
  top: 0px;
  left: 0px;
  height: 100vh;
  width: 100vw;
  max-height: 100vh;
  max-width: 100vw;
  overflow: hidden;

  opacity: 1;
}

.roam-app {
  // level 2: leftbar, right-area
  > .roam-sidebar-container,
  > .roam-sidebar-container > .roam-sidebar-content {
    //XXX don't edit display settings
  }
  > div.flex-h-box {
    // XXX don't edit this flex-box
    // level 3: editor & topbar, rightbar
    > .roam-main {
      // level 4: topbar, roam-body-main
      > .roam-topbar {
        height: var(--topbar_height);
      }
      // level 5
      > .roam-body-main {
        margin: 0px;
        > div:first-child {
          margin: 0px !important;
          padding: 0px !important;

          // level 6
          > .roam-article {
            padding: 20px; //TODO make this a variable
          }
        }
        > #buffer {
          visibility: hidden;
        }
      }
    }
    > #right-sidebar {
    }
  }
}

/*------------------------------------
# BETTER ROAM RESEARCH LAYOUT
------------------------------------*/
@mixin better-roam-layout {
  .roam-body {
    background: blue;
  }
  .roam-topbar {
    background: none;
  }
  .roam-sidebar-container {
    background: none !important;
  }
  #right-sidebar {
    background: green;
  }
  .roam-body-main {
    border: 1px solid red;
    border-bottom: none;
    border-radius: 2px 2px 0 0;
    /* offset-x | offset-y | blur-radius | spread-radius | color */
    margin: 0px 5px; /* add space to show shadow */
    box-shadow: 0px 0px 8px 1px rgb(49, 35, 35);
    background: linear-gradient(red, blue);
  }
}

// later: are these needed?
// @media (max-width: 640px) {
//   .roam-center,
// .roam-body-main {
//     margin-right: 6px;
//     margin-left: 6px;
//   }
// }
// @media (max-width: 860px) {
//   .roam-center .roam-article,
// .roam-body-main .roam-article {
//     padding: 12px 28px 120px !important;
//   }
// }
// @media (max-width: 640px) {
//   .roam-center .roam-article,
// .roam-body-main .roam-article {
//     padding: 10px 20px 120px !important;
//   }
// }
